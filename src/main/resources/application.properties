spring.application.name=bookstorebackend
# DEV datasource (local)
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:bookstoreecommerce}?useUnicode=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:123456}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# JWT (dev default)
app.jwt.secret=${APP_JWT_SECRET:dev-secret-key-for-testing-only}
app.jwt.access-expiration-seconds=3600
# Logging
logging.level.org.springframework.security=DEBUG
# Active profile for local runs
spring.profiles.active=dev
# Email (Gmail SMTP for dev)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
# Debug mail (DEV only)
spring.mail.properties.mail.debug=true
logging.level.org.springframework.mail=DEBUG
logging.level.org.springframework.boot.autoconfigure.mail=DEBUG
# Mail timeouts
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
# Cloudinary Configuration
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}
cloudinary.default-folder=bookstore
# VNPay Configuration
logging.level.vn.edu.iuh.fit.bookstorebackend.service.Impl.VnPayServiceImpl=DEBUG
vnpay.tmn-code=${VNPAY_TMN_CODE}
vnpay.secret-key=${VNPAY_SECRET_KEY}
vnpay.payment-url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
vnpay.return-url=http://localhost:8080/api/payments/vnpay/return
vnpay.version=2.1.0
vnpay.command=pay
vnpay.order-type=other
vnpay.locale=vn
vnpay.curr-code=VND
vnpay.create-order-url=https://sandbox.vnpayment.vn/merchant_webapi/api/transaction
vnpay.query-dr-url=https://sandbox.vnpayment.vn/merchant_webapi/api/transaction
vnpay.refund-url=https://sandbox.vnpayment.vn/merchant_webapi/api/transaction
# AI Gemini API Key for embeddings
ai.api.key=${AI_API_KEY}

spring.jpa.open-in-view=false
# Actuator Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoint.health.enabled=true

# RAM Optimization Settings
# Limit Tomcat threads (reduce memory)
server.tomcat.threads.max=10
server.tomcat.threads.min-spare=5
server.tomcat.connection-timeout=60000

# Limit Jersey/HTTP client threads
spring.jersey.application-path=/api

# Compression
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Ho_Chi_Minh
server.time.zone=Asia/Ho_Chi_Minh
# JVM Memory will be set via JAVA_OPTS env variable










